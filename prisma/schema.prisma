generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

enum UserStatus {
  pending
  active
  blocked
}


model User {
  id          Int           @id @default(autoincrement())
  name        String
  email       String        @unique
  created_at  DateTime      @default(now())
  status      UserStatus    @default(pending)
  groups      UserGroups[]

  @@map("users")
}

model Group {
  id          Int           @id @default(autoincrement())
  name        String
  status      String
  created_at  DateTime      @default(now())
  users       UserGroups[]

  @@map("groups")
}

model UserGroups {
  user_id  Int
  group_id Int

  user   User  @relation(fields: [user_id], references: [id], onDelete: Cascade)
  group  Group @relation(fields: [group_id], references: [id], onDelete: Cascade)

  @@id([user_id, group_id])
  @@unique([user_id])
  @@map("user_groups")
}
